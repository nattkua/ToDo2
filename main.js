!function e(t,o,n){function i(a,r){if(!o[a]){if(!t[a]){var s="function"==typeof require&&require;if(!r&&s)return s(a,!0);if(d)return d(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){var o=t[a][1][e];return i(o?o:e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var d="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,o){function n(){this.todoListDIV=document.getElementById("todo-list"),this.newTodoBTN=document.getElementsByClassName("js-new-todo")[0],this.loadCompletedTodoBTN=document.getElementsByClassName("js-load-completed-todo")[0],this.todoPanel=null,this.todoData=null,this.todoList=[],this.todoLoaded=!1,this.completedTodoLoaded=!1,this.animationDelay=150}var i=e("./_todo-panel.js"),d=e("./_todo.js");n.prototype.init=function(){var e=this;e.request(),e.todoPanel=new i(e),e.todoPanel.init(),e.events()},n.prototype.request=function(){var e=this,t=0==e.completedTodoLoaded?"upcoming":"completed",o=new XMLHttpRequest;o.open("GET","?action="+t,!0),o.onload=function(){if(this.status>=200&&this.status<400){var t=JSON.parse(this.response);e.todoData=t,e.addTodo()}else console.log("server hit, request bad")},o.onerror=function(){console.log("connection error")},o.send(),e.completedTodoLoaded=!e.completedTodoLoaded},n.prototype.events=function(){var e=this;e.newTodoBTN.addEventListener("click",function(t){e.todoPanel.isActive===!1?e.todoPanel.open():e.todoPanel.close()}),e.loadCompletedTodoBTN.addEventListener("click",function(t){e.clearTodo(),e.completedTodoLoaded===!1?e.loadCompletedTodoBTN.innerHTML="Completed ToDos":e.loadCompletedTodoBTN.innerHTML="Upcoming ToDos"})},n.prototype.addTodo=function(){var e=this;e.todoData.reverse(),e.todoData.forEach(function(t){var o=new d(t,e);e.todoList.push(o),o.init(),e.todoListDIV.insertBefore(o.div,e.todoListDIV.firstChild),o["in"](e.animationDelay),e.animationDelay+=50}),e.todoLoaded=!0,e.animationDelay=50},n.prototype.clearTodo=function(){var e=this;e.todoList.reverse();for(var t=e.todoList.length-1;t>=0;t-=1){var o=e.todoList[t];o.out(e.animationDelay),e.animationDelay+=50}e.animationDelay=50},n.prototype.removeTodo=function(e,t){var o=this,t=t||o.animationDelay,n=o.todoList.filter(function(t){return t.id==e})[0],e=o.todoList.indexOf(n);setTimeout(function(){n.div.parentNode.removeChild(n.div),o.todoList.splice(e,1),0===o.todoList.length&&o.request()},t)},t.exports=n},{"./_todo-panel.js":2,"./_todo.js":3}],2:[function(e,t,o){function n(){}n.prototype.init=function(){console.log("Todo Panel js is loaded")},t.exports=n},{}],3:[function(e,t,o){function n(e,t){this.parent=t,this.id=e.id,this.title=e.title,this.dueDate=e.due_date,this.overdue=e.overdue,this.complete=e.complete,this.div=null,this.deleteBTN=null,this.editBTN=null,this.primaryBTN=null}n.prototype.init=function(){var e=this;e.complete===!1&&e.isOverdue(),e.template(),e.events()},n.prototype.events=function(){var e=this;e.primaryBTN.addEventListener("click",function(t){e.complete===!1?e.done():e.reset()}),null!==e.deleteBTN&&e.deleteBTN.addEventListener("click",function(t){e["delete"]()}),null!==e.editBTN&&e.editBTN.addEventListener("click",function(t){e.edit()})},n.prototype["delete"]=function(){var e=this;e.update("delete"),e.out(300)},n.prototype.edit=function(){var e=this;e.parent.todoPanel.editTodo(e)},n.prototype.done=function(){var e=this;e.update("done"),e.out(300)},n.prototype.reset=function(){var e=this;e.update("reset"),e.out(300)},n.prototype.isOverdue=function(){var e=this,t=new Date,o=new Date(e.dueDate);t.getTime()>=o.getTime()&&e.update("overdue")},n.prototype.update=function(e){var t=this,o=new XMLHttpRequest;o.open("GET","?action="+e+"&id="+t.id,!0),o.onload=function(){if(this.status>=200&&this.status<400){JSON.parse(this.response)}else console.log("server hit, request bad")},o.onerror=function(){console.log("connection error")},o.send()},n.prototype["in"]=function(e){var t=this;setTimeout(function(){requestAnimationFrame(function(){t.div.classList.remove("js-todo-in")})},e)},n.prototype.out=function(e){var t=this;setTimeout(function(){requestAnimationFrame(function(){t.div.classList.add("js-todo-out"),t.parent.removeTodo(t.id,e)})},e)},n.prototype.template=function(){var e=this,t=["blue","green","pink","purple"],o=t[Math.floor(Math.random()*t.length)];e.div=document.createElement("div"),e.div.className=e.complete===!1?"todo js-todo-in "+o:"todo complete js-todo-in "+o,e.div.id=e.id,e.div.tabIndex=0;var n=document.createElement("div");n.className=e.overdue===!0&&e.complete===!1?"message message--urgent active":"message message--urgent";var i=document.createElement("p");i.innerHTML="This ToDo is OverDo!";var d=document.createElement("div");d.className="todo-info";var a=document.createElement("div");a.className="todo-button-group button-group";var r=document.createElement("div");r.className="todo-primary-action";var s=document.createElement("h2");s.innerHTML='Due: <span class="text">'+e.dueDate+"</span>",s.setAttribute("class","todo-info__title");var l=document.createElement("h3");l.innerHTML=e.title,l.setAttribute("class","todo-info__title"),e.complete===!1?(e.primaryBTN=document.createElement("button"),e.primaryBTN.innerHTML="Done",e.primaryBTN.className="button button--primary button--large js-todo-complete",e.editBTN=document.createElement("button"),e.editBTN.innerHTML="Edit",e.editBTN.className="button button--secondary js-todo-edit",e.deleteBTN=document.createElement("button"),e.deleteBTN.innerHTML="Delete",e.deleteBTN.className="button button--secondary js-todo-delete",a.appendChild(e.editBTN),a.appendChild(e.deleteBTN),r.appendChild(e.primaryBTN)):(e.primaryBTN=document.createElement("button"),e.primaryBTN.innerHTML="Undo",e.primaryBTN.className="button button--primary button--large js-todo-undo ",r.appendChild(e.primaryBTN)),n.appendChild(i),d.appendChild(s),d.appendChild(l),d.appendChild(a),e.div.appendChild(n),e.div.appendChild(d),e.div.appendChild(r)},t.exports=n},{}],4:[function(e,t,o){var n=e("./_app.js"),i=!1;document.onreadystatechange=function(){if(!i&&("interactive"===document.readyState||"complete"===document.readyState)){i=!0;var e=new n;e.init()}}},{"./_app.js":1}]},{},[4]);